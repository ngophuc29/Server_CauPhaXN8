"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const SdkManagerBuilder_1 = require("../src/SdkManagerBuilder");
const ApsConfiguration_1 = require("../src/ApsConfiguration");
const ResiliencyConfiguration_1 = require("../src/ResiliencyConfiguration");
const Logger_1 = require("../src/Logger");
describe('Sdk Manager Builder', () => {
    it('Default Initialization of Sdk Manager Builder', () => {
        const sdkManager = SdkManagerBuilder_1.SdkManagerBuilder.create().build();
        expect(sdkManager).toEqual(expect.objectContaining({
            _resiliencyConfiguration: expect.objectContaining({
                backoffInterval: 10,
                circuitBreakerInterval: 60 * 1000,
                retryCount: 5,
                timeOutValue: 15000
            })
        }));
    });
    it('Resiliency Configuration into Sdk Manager Builder', () => {
        const apsConfigurationParams = {
            environment: ApsConfiguration_1.AdskEnvironment.Stg
        };
        const sdkManager = SdkManagerBuilder_1.SdkManagerBuilder.create()
            .addApsConfiguration(new ApsConfiguration_1.ApsConfiguration(apsConfigurationParams))
            .addResiliencyConfiguration(new ResiliencyConfiguration_1.ResiliencyConfiguration(5, 5, 5))
            .addLogger(new Logger_1.Logger())
            .build();
        expect(sdkManager).toEqual(expect.objectContaining({
            _resiliencyConfiguration: expect.objectContaining({
                backoffInterval: 5,
                circuitBreakerInterval: 5,
                retryCount: 5
            })
        }));
    });
});
